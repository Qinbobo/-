<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>02-词法作用域及动态作用域</title>
</head>
<body>
    <script>
        //静态作用域，在函数定义时就已经决定了。首先会在函数内部查找变量的值
        let value = 1;

        function foo() {
            console.log(value);
        }

        function bar(){
            let value = 2;
            foo();
        }

        bar(); //1

        let scope = "global scope";
        function chackscope(){
            let scope = "local scope";
            function fn(){
                return scope;
            }
            return fn();
        }
        chackscope(); //local scope
        //执行上下文栈
        ECStranck = [
            'globalcontant'
        ]
        ECStranck.push('chacksope()', functionContant)
        ECStranck.push('fn()', functionContant)
        ECStranck.pop() //fn()出栈
        ECStranck.pop() //chacksope()出栈

        let scope2 = "global scope";
        function chackscope2(){
            let scope = "local scope";
            function fn(){
                return scope;
            }
            return fn;
        }
        chackscope2()(); //local scope
        ECStranck.push('chackscope2()', functionContant)
        ECStranck.pop() //chacksope2()出栈
        ECStranck.push('fn()', functionContant) //存在作用域链，所以能访问到scope
        ECStranck.pop() //fn()出栈
    </script>
    
</body>
</html>